<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
   <duplication lines="15" tokens="135">
      <file begintoken="2664" column="71" endcolumn="20" endline="106" endtoken="2798"
            line="92"
            path="C:\Users\roberto\IdeaProjects\LDH_PFInal\src\main\java\ull\FourthRatings.java"/>
      <file begintoken="3014" column="69" endcolumn="20" endline="159" endtoken="3148"
            line="145"
            path="C:\Users\roberto\IdeaProjects\LDH_PFInal\src\main\java\ull\FourthRatings.java"/>
      <codefragment><![CDATA[    ArrayList<String> movies = MovieDatabase.filterBy(new TrueFilter());
    for (String movie_id : movies) {
      int md_id = Integer.parseInt(movie_id);
      if (hasMinRaters(movie_id, minimalRaters, numSimilarRaters, ratingRater)) {
        double sum = 0.0;
        double ave;
        double num = 0.0;
        for (int i = 0; i < numSimilarRaters; i++) {
          Rater rater = RaterDatabase.getRater(ratingRater.get(i).getItem());
          HashMap<String, Rating> movieRated = rater.getMyRatings();
          for (String mo_id : movieRated.keySet()) {
            int rm_id = Integer.parseInt(mo_id);
            if (rm_id == md_id) {
              sum += ratingRater.get(i).getValue() * rater.getRating(mo_id);
              num += 1;]]></codefragment>
   </duplication>
</pmd-cpd>